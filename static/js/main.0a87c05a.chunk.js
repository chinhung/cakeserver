(this.webpackJsonpcakeserver=this.webpackJsonpcakeserver||[]).push([[0],{13:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(14),i=n.n(a),o=(n(20),n(12)),s=n(2),u=n(6),m=n(4),l=(n(13),n(0)),j="320px";function b(e){return Object(l.jsx)("nav",{className:"w3-sidebar w3-bar-block w3-collapse w3-white w3-animate-left w3-card",style:{zIndex:3,width:j},children:e.children})}function f(e){return Object(l.jsx)("div",{className:"w3-main",style:{marginLeft:j},children:Object(l.jsxs)("div",{className:"w3-container",children:[Object(l.jsx)("br",{}),e.children]})})}var d=function(){return Object(l.jsxs)("a",{href:"https://github.com/chinhung/cakeserver",target:"_blank",rel:"noreferrer",className:"w3-bar-item w3-button",children:[Object(l.jsx)("i",{className:"fa fa-github w3-margin-right"}),"GitHub"]})};var g=function(e){var t=e.onClick;return Object(l.jsxs)("div",{className:"e2e-new-commit w3-bar-item w3-button w3-dark-grey w3-button w3-hover-black w3-left-align",onClick:t,children:["New Commit",Object(l.jsx)("i",{className:"w3-padding fa fa-pencil"})]})};var h=function(){return Object(l.jsxs)("div",{className:"w3-bar-item w3-button w3-border-bottom w3-large",children:[Object(l.jsx)("h3",{children:"Cake Server"}),Object(l.jsx)("h5",{style:{color:"grey"},children:"Splits your task into peices of cake!"})]})};var O=function(e){var t=e.commits,n=e.onSelect;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"w3-bar-item w3-button",children:[Object(l.jsx)("i",{className:"fa fa-inbox w3-margin-right"}),"Commits",Object(l.jsx)("i",{className:"fa fa-caret-down w3-margin-left"})]}),Object(l.jsx)("div",{className:"w3-animate-left",children:t.map((function(e){return Object(l.jsx)("div",{className:"w3-bar-item w3-button w3-border-bottom test w3-hover-light-grey",onClick:function(){return n(Object(u.a)({},e))},children:Object(l.jsxs)("div",{className:"w3-container",children:[Object(l.jsx)("span",{className:"e2e-commit-message w3-opacity w3-large",children:e.message}),Object(l.jsx)("p",{className:"e2e-commit-note",children:e.note})]})},e.id)}))})]})},w=n(15),v=n.n(w),x="Copy Commit Message",p="copyCommitMessageBtn",C="#".concat(p),N="commitMessageText",k="#".concat(N);function y(e){var t=e.operations;return Object(c.useEffect)((function(){var e=new v.a(C);e.on("success",(function(e){console.info("Action:",e.action),console.info("Text:",e.text),console.info("Trigger:",e.trigger),e.clearSelection()})),e.on("error",(function(e){console.error("Action:",e.action),console.error("Trigger:",e.trigger)}))}),[]),t.map((function(e,t){return e.name===x?Object(l.jsx)("button",{id:p,"data-clipboard-target":k,className:e.className,onClick:e.operate,children:e.name},t):Object(l.jsx)("button",{className:e.className,onClick:e.operate,children:e.name},t)}))}var S=function(e){return function(t){var n=t.saveCommit,c=t.copyCommitMessage,r=t.deleteCommit,a=t.redoCommit;return function(t){return e(t)?[{name:"Save",className:"w3-button w3-light-grey e2e-save",operate:function(){return n(t)}}]:[{name:"Save",className:"w3-button w3-light-grey e2e-save",operate:function(){return n(t)}},{name:"Redo",className:"w3-button w3-light-grey e2e-redo",operate:function(){return a(t)}},{name:x,className:"w3-button w3-light-grey e2e-copy-commit-message",operate:function(){return c(t.message)}},{name:"Delete",className:"w3-button w3-light-grey e2e-delete",operate:function(){return r(t)}}]}}};var M=function(e){var t=e.message,n=e.onChange;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h4",{children:"Commit Message"}),Object(l.jsx)("input",{id:N,className:"e2e-message",type:"text",value:t,onChange:function(e){return n(e.target.value)}})]})};var F=function(e){var t=e.note,n=e.onChange;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h4",{children:"Note"}),Object(l.jsx)("textarea",{id:"w3review",className:"e2e-note",name:"w3review",rows:"4",cols:"50",value:t,onChange:function(e){return n(e.target.value)}})]})},T=function(e){return function(){return e.loadCommits()}},I=n(24).a,J=function(){return{id:I(),message:"",note:""}},E=function(e){return function(t){return 0===e.filter((function(e){return e.id===t.id})).length}},P=n(5),A=n(9),B=n(10),z=function(){return JSON.parse(localStorage.getItem("cakeserver.commits")||"[]")},D=function(e){localStorage.setItem("cakeserver.commits",JSON.stringify(e))},G=function(){function e(){Object(A.a)(this,e)}return Object(B.a)(e,[{key:"loadCommits",value:function(){var e=z();return new Promise((function(t,n){t(e)}))}},{key:"saveCommit",value:function(e){var t=z(),n=t.filter((function(t){return t.id===e.id}));return t=0===n.length?[].concat(Object(P.a)(t),[e]):Object(P.a)(t.map((function(t){return t.id===e.id?{id:t.id,message:e.message,note:e.note}:t}))),D(t),new Promise((function(e,t){e()}))}},{key:"deleteCommit",value:function(e){var t=z();return t=Object(P.a)(t.filter((function(t){return t.id!==e.id}))),D(t),new Promise((function(e,t){e()}))}}]),e}();var H=function(){var e=Object(c.useState)(new G),t=Object(m.a)(e,1)[0],n=Object(c.useState)([]),r=Object(m.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(J()),s=Object(m.a)(o,2),j=s[0],w=s[1],v=function(){T(t)().then((function(e){return i(e)}))};Object(c.useEffect)((function(){T(t)().then((function(e){return i(e)}))}),[]);var x={saveCommit:function(e){(function(e){return function(t){return e.saveCommit(t)}})(t)(e).then((function(){v()}))},redoCommit:function(e){w(Object(u.a)({},a.filter((function(t){return t.id===e.id}))[0]))},copyCommitMessage:function(e){console.log("copy: "+e)},deleteCommit:function(e){(function(e){return function(t){return e.deleteCommit(t)}})(t)(e).then((function(){v(),w(J())}))}};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(b,{children:[Object(l.jsx)(h,{}),Object(l.jsx)(g,{onClick:function(){w(J())}}),Object(l.jsx)(O,{commits:a,onSelect:function(e){w(e)}}),Object(l.jsx)(d,{})]}),Object(l.jsxs)(f,{children:[Object(l.jsx)(M,{message:j.message,onChange:function(e){w(Object(u.a)(Object(u.a)({},j),{},{message:e}))}}),Object(l.jsx)(F,{note:j.note,onChange:function(e){w(Object(u.a)(Object(u.a)({},j),{},{note:e}))}}),Object(l.jsx)("hr",{}),Object(l.jsx)(y,{operations:S(E(a))(x)(j)})]})]})};var L=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{children:"Thanks!"})})};var R=function(){return Object(l.jsx)(o.a,{children:Object(l.jsxs)(s.c,{children:[Object(l.jsx)(s.a,{path:"/",element:Object(l.jsx)(H,{})}),Object(l.jsx)(s.a,{path:"thanks",element:Object(l.jsx)(L,{})})]})})};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(R,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.0a87c05a.chunk.js.map