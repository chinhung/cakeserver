(this.webpackJsonpcakeserver=this.webpackJsonpcakeserver||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(10),o=n.n(i),a=(n(16),n(3)),s=n(9),m=(n(17),n(0)),u="320px";function l(e){return Object(m.jsx)("nav",{className:"w3-sidebar w3-bar-block w3-collapse w3-white w3-animate-left w3-card",style:{zIndex:3,width:u},children:e.children})}function j(e){return Object(m.jsx)("div",{className:"w3-main",style:{marginLeft:u},children:Object(m.jsxs)("div",{className:"w3-container",children:[Object(m.jsx)("br",{}),e.children]})})}var f=function(){return Object(m.jsxs)("a",{href:"https://github.com/chinhung/cakeserver",target:"_blank",rel:"noreferrer",className:"w3-bar-item w3-button",children:[Object(m.jsx)("i",{className:"fa fa-github w3-margin-right"}),"GitHub"]})};var b=function(e){var t=e.onClick;return Object(m.jsxs)("div",{className:"e2e-new-commit w3-bar-item w3-button w3-dark-grey w3-button w3-hover-black w3-left-align",onClick:t,children:["New Commit",Object(m.jsx)("i",{className:"w3-padding fa fa-pencil"})]})};var d=function(){return Object(m.jsxs)("div",{className:"w3-bar-item w3-button w3-border-bottom w3-large",children:[Object(m.jsx)("h3",{children:"Cake Server"}),Object(m.jsx)("h5",{style:{color:"grey"},children:"Splits your task into peices of cake!"})]})};var g=function(e){var t=e.commits,n=e.onSelect;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"w3-bar-item w3-button",children:[Object(m.jsx)("i",{className:"fa fa-inbox w3-margin-right"}),"Commits",Object(m.jsx)("i",{className:"fa fa-caret-down w3-margin-left"})]}),Object(m.jsx)("div",{className:"w3-animate-left",children:t.map((function(e){return Object(m.jsx)("div",{className:"w3-bar-item w3-button w3-border-bottom test w3-hover-light-grey",onClick:function(){return n(Object(a.a)({},e))},children:Object(m.jsxs)("div",{className:"w3-container",children:[Object(m.jsx)("span",{className:"e2e-commit-message w3-opacity w3-large",children:e.message}),Object(m.jsx)("p",{className:"e2e-commit-note",children:e.note})]})},e.id)}))})]})},h=n(11),w=n.n(h),O="Copy Commit Message",v="copyCommitMessageBtn",x="#".concat(v),C="commitMessageText",p="#".concat(C);function N(e){var t=e.operations;return Object(c.useEffect)((function(){var e=new w.a(x);e.on("success",(function(e){console.info("Action:",e.action),console.info("Text:",e.text),console.info("Trigger:",e.trigger),e.clearSelection()})),e.on("error",(function(e){console.error("Action:",e.action),console.error("Trigger:",e.trigger)}))}),[]),t.map((function(e,t){return e.name===O?Object(m.jsx)("button",{id:v,"data-clipboard-target":p,className:e.className,onClick:e.operate,children:e.name},t):Object(m.jsx)("button",{className:e.className,onClick:e.operate,children:e.name},t)}))}var y=function(e){return function(t){var n=t.saveCommit,c=t.copyCommitMessage,r=t.deleteCommit,i=t.redoCommit;return function(t){return e(t)?[{name:"Save",className:"w3-button w3-light-grey e2e-save",operate:function(){return n(t)}}]:[{name:"Save",className:"w3-button w3-light-grey e2e-save",operate:function(){return n(t)}},{name:"Redo",className:"w3-button w3-light-grey e2e-redo",operate:function(){return i(t)}},{name:O,className:"w3-button w3-light-grey e2e-copy-commit-message",operate:function(){return c(t.message)}},{name:"Delete",className:"w3-button w3-light-grey e2e-delete",operate:function(){return r(t)}}]}}};var k=function(e){var t=e.message,n=e.onChange;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h4",{children:"Commit Message"}),Object(m.jsx)("input",{id:C,className:"e2e-message",type:"text",value:t,onChange:function(e){return n(e.target.value)}})]})};var S=function(e){var t=e.note,n=e.onChange;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h4",{children:"Note"}),Object(m.jsx)("textarea",{id:"w3review",className:"e2e-note",name:"w3review",rows:"4",cols:"50",value:t,onChange:function(e){return n(e.target.value)}})]})};var M=function(e){var t=e.inject,n=t.newCommit,r=t.isNewCommit,i=t.loadCommits,o=t.saveCommit,u=t.deleteCommit,h=Object(c.useState)([]),w=Object(s.a)(h,2),O=w[0],v=w[1],x=Object(c.useState)(n()),C=Object(s.a)(x,2),p=C[0],M=C[1],F=function(){i().then((function(e){return v(e)}))};Object(c.useEffect)((function(){i().then((function(e){return v(e)}))}),[]);var I={saveCommit:function(e){o(e).then((function(){F()}))},redoCommit:function(e){M(Object(a.a)({},O.filter((function(t){return t.id===e.id}))[0]))},copyCommitMessage:function(e){console.log("copy: "+e)},deleteCommit:function(e){u(e).then((function(){F(),M(n())}))}};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(l,{children:[Object(m.jsx)(d,{}),Object(m.jsx)(b,{onClick:function(){M(n())}}),Object(m.jsx)(g,{commits:O,onSelect:function(e){M(e)}}),Object(m.jsx)(f,{})]}),Object(m.jsxs)(j,{children:[Object(m.jsx)(k,{message:p.message,onChange:function(e){M(Object(a.a)(Object(a.a)({},p),{},{message:e}))}}),Object(m.jsx)(S,{note:p.note,onChange:function(e){M(Object(a.a)(Object(a.a)({},p),{},{note:e}))}}),Object(m.jsx)("hr",{}),Object(m.jsx)(N,{operations:y(r(O))(I)(p)})]})]})},F=n(21).a,I=n(2),J=n(6),T=n(7),E=function(){return JSON.parse(localStorage.getItem("cakeserver.commits")||"[]")},P=function(e){localStorage.setItem("cakeserver.commits",JSON.stringify(e))},A=new(function(){function e(){Object(J.a)(this,e)}return Object(T.a)(e,[{key:"loadCommits",value:function(){var e=E();return new Promise((function(t,n){t(e)}))}},{key:"saveCommit",value:function(e){var t=E(),n=t.filter((function(t){return t.id===e.id}));return t=0===n.length?[].concat(Object(I.a)(t),[e]):Object(I.a)(t.map((function(t){return t.id===e.id?{id:t.id,message:e.message,note:e.note}:t}))),P(t),new Promise((function(e,t){e()}))}},{key:"deleteCommit",value:function(e){var t=E();return t=Object(I.a)(t.filter((function(t){return t.id!==e.id}))),P(t),new Promise((function(e,t){e()}))}}]),e}()),B={newCommit:function(){return{id:F(),message:"",note:""}},isNewCommit:function(e){return function(t){return 0===e.filter((function(e){return e.id===t.id})).length}},loadCommits:function(e){return function(){return e.loadCommits()}}(A),saveCommit:function(e){return function(t){return e.saveCommit(t)}}(A),deleteCommit:function(e){return function(t){return e.deleteCommit(t)}}(A)};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(M,{inject:B})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.afea90ac.chunk.js.map